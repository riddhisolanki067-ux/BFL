{
 "add_total_row": 1,
 "add_translate_data": 0,
 "columns": [],
 "creation": "2026-02-18 21:06:38.685711",
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [
  {
   "fieldname": "account",
   "fieldtype": "Link",
   "label": "Account",
   "mandatory": 1,
   "options": "Account",
   "wildcard_filter": 0
  },
  {
   "default": "2020-04-01",
   "fieldname": "from_date",
   "fieldtype": "Date",
   "label": "From Date",
   "mandatory": 1,
   "wildcard_filter": 0
  },
  {
   "default": "Today",
   "fieldname": "to_date",
   "fieldtype": "Date",
   "label": "To Date",
   "mandatory": 1,
   "wildcard_filter": 0
  }
 ],
 "idx": 0,
 "is_standard": "Yes",
 "letter_head": null,
 "modified": "2026-02-18 21:06:38.685711",
 "modified_by": "Administrator",
 "module": "Bfl Custom",
 "name": "Journal Entry",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "WITH opening AS (\n    SELECT \n        COALESCE(\n            SUM(jea.debit_in_account_currency - jea.credit_in_account_currency), 0\n        ) AS opening_balance\n    FROM `tabJournal Entry Account` jea\n    JOIN `tabJournal Entry` je ON je.name = jea.parent\n    WHERE\n        jea.account = %(account)s\n        AND je.posting_date < %(from_date)s\n),\n\nmain AS (\n    SELECT\n        je.name AS \"Voucher:Link/Journal Entry:120\",\n        je.posting_date AS \"Posting Date:Date:100\",\n\n        cash_line.account AS \"Cash Account:Link/Account:180\",\n\n        -- \u2b50 ALL OTHER LINES MERGED AS CSV\n        GROUP_CONCAT(\n            CONCAT(\n                other_line.account,\n                IF(other_line.party IS NOT NULL, CONCAT(' (', other_line.party, ')'), ''),\n                ' D:', other_line.debit_in_account_currency,\n                ' C:', other_line.credit_in_account_currency\n            ) SEPARATOR '; '\n        ) AS \"Counter Details:Data:250\",\n\n        je.remark AS \"Remark:Data:200\",\n\n        CASE je.docstatus\n            WHEN 0 THEN 'Draft'\n            WHEN 1 THEN 'Submitted'\n            WHEN 2 THEN 'Cancelled'\n        END AS \"Status:Data:90\",\n\n        je.custom_payment_type AS \"Payment Type:Data:120\",\n\n        cash_line.debit_in_account_currency AS \"Debit:Currency:120\",\n        cash_line.credit_in_account_currency AS \"Credit:Currency:120\",\n\n        -- \u2b50 RUNNING BALANCE PER ACCOUNT\n        SUM(\n            cash_line.debit_in_account_currency\n          - cash_line.credit_in_account_currency\n        ) OVER (\n            PARTITION BY cash_line.account\n            ORDER BY je.posting_date, je.name, cash_line.name\n        ) AS \"Running Balance:Currency:150\"\n\n    FROM `tabJournal Entry` AS je\n    JOIN `tabJournal Entry Account` AS cash_line\n        ON je.name = cash_line.parent\n    LEFT JOIN `tabJournal Entry Account` AS other_line\n        ON je.name = other_line.parent\n        AND other_line.name != cash_line.name\n\n    WHERE\n        cash_line.account = %(account)s\n        \n    GROUP BY\n        je.name,\n        je.posting_date,\n        cash_line.name\n)\n\n(\n    -- \u2b50 OPENING ROW\n    SELECT\n        \"Opening\" AS \"Voucher:Link/Journal Entry:120\",\n        %(from_date)s AS \"Posting Date:Date:100\",\n        %(account)s AS \"Cash Account:Link/Account:180\",\n        \"\" AS \"Counter Details:Data:250\",\n        \"Opening Balance\" AS \"Remark:Data:200\",\n        \"\" AS \"Status:Data:90\",\n        \"\" AS \"Payment Type:Data:120\",\n        0 AS \"Debit:Currency:120\",\n        0 AS \"Credit:Currency:120\",\n        opening_balance AS \"Running Balance:Currency:150\"\n    FROM opening\n)\n\nUNION ALL\n\n(\n    SELECT * FROM main\n)\n\nORDER BY \"Posting Date\", \"Voucher\";\n",
 "ref_doctype": "Journal Entry",
 "report_name": "Journal Entry",
 "report_script": "",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "Accounts User"
  },
  {
   "role": "Auditor"
  },
  {
   "role": "Accounts Manager"
  }
 ],
 "timeout": 0
}